{
  "info": {
    "name": "Flood Alert System - Gemini AI",
    "description": "API Collection ƒë·ªÉ test h·ªá th·ªëng c·∫£nh b√°o ng·∫≠p l·ª•t v·ªõi Gemini AI",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "üî• FAKE DATA - IoT Simulation",
      "item": [
        {
          "name": "1. POST Fake Data l√™n Firebase (Sensor 001)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"location\": \"C·ªëng Phan ƒê√¨nh Ph√πng, ƒê√† N·∫µng\",\n  \"current_percent\": 85,\n  \"previous_percent\": 50,\n  \"timestamp\": \"2025-11-19T14:30:00\"\n}"
            },
            "url": {
              "raw": "https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_001.json",
              "protocol": "https",
              "host": [
                "hackathon-weather-634bf-default-rtdb",
                "firebaseio",
                "com"
              ],
              "path": [
                "sensors",
                "flood",
                "sensor_001.json"
              ]
            }
          }
        },
        {
          "name": "2. G·ªçi Backend ƒê·ªçc Firebase v√† G·ª≠i Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensorId\": \"sensor_001\"\n}"
            },
            "url": {
              "raw": "http://localhost:3001/api/check-firebase-and-alert",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "api",
                "check-firebase-and-alert"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üß™ TEST CASES",
      "item": [
        {
          "name": "TEST 1: Ng·∫≠p Nguy Hi·ªÉm (85%)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"location\": \"C·∫ßu R·ªìng, ƒê√† N·∫µng\",\n  \"current_percent\": 85,\n  \"previous_percent\": 50,\n  \"timestamp\": \"2025-11-19T14:30:00\"\n}"
            },
            "url": {
              "raw": "https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_high.json",
              "protocol": "https",
              "host": [
                "hackathon-weather-634bf-default-rtdb",
                "firebaseio",
                "com"
              ],
              "path": [
                "sensors",
                "flood",
                "sensor_test_high.json"
              ]
            }
          }
        },
        {
          "name": "TEST 2: Ng·∫≠p Trung B√¨nh (65%)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"location\": \"ƒê∆∞·ªùng L√™ Du·∫©n, ƒê√† N·∫µng\",\n  \"current_percent\": 65,\n  \"previous_percent\": 55,\n  \"timestamp\": \"2025-11-19T15:00:00\"\n}"
            },
            "url": {
              "raw": "https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_medium.json",
              "protocol": "https",
              "host": [
                "hackathon-weather-634bf-default-rtdb",
                "firebaseio",
                "com"
              ],
              "path": [
                "sensors",
                "flood",
                "sensor_test_medium.json"
              ]
            }
          }
        },
        {
          "name": "TEST 3: An To√†n (40%)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"location\": \"C·ªëng H√≤a Xu√¢n, ƒê√† N·∫µng\",\n  \"current_percent\": 40,\n  \"previous_percent\": 35,\n  \"timestamp\": \"2025-11-19T15:30:00\"\n}"
            },
            "url": {
              "raw": "https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_safe.json",
              "protocol": "https",
              "host": [
                "hackathon-weather-634bf-default-rtdb",
                "firebaseio",
                "com"
              ],
              "path": [
                "sensors",
                "flood",
                "sensor_test_safe.json"
              ]
            }
          }
        },
        {
          "name": "TEST 4: N∆∞·ªõc TƒÉng Nhanh (90%)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"location\": \"C·ªëng H·∫£i Ch√¢u, ƒê√† N·∫µng\",\n  \"current_percent\": 90,\n  \"previous_percent\": 45,\n  \"timestamp\": \"2025-11-19T16:00:00\"\n}"
            },
            "url": {
              "raw": "https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_rapid.json",
              "protocol": "https",
              "host": [
                "hackathon-weather-634bf-default-rtdb",
                "firebaseio",
                "com"
              ],
              "path": [
                "sensors",
                "flood",
                "sensor_test_rapid.json"
              ]
            }
          }
        },
        {
          "name": "TEST 5: C·ª±c K·ª≥ Nguy Hi·ªÉm (95%)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"location\": \"Ng√£ T∆∞ L√™ Du·∫©n - ƒêi·ªán Bi√™n Ph·ªß\",\n  \"current_percent\": 95,\n  \"previous_percent\": 88,\n  \"timestamp\": \"2025-11-19T16:30:00\"\n}"
            },
            "url": {
              "raw": "https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_critical.json",
              "protocol": "https",
              "host": [
                "hackathon-weather-634bf-default-rtdb",
                "firebaseio",
                "com"
              ],
              "path": [
                "sensors",
                "flood",
                "sensor_test_critical.json"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üìä Read Firebase Data",
      "item": [
        {
          "name": "ƒê·ªçc T·∫•t C·∫£ Sensors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/api/firebase/sensors",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "api",
                "firebase",
                "sensors"
              ]
            }
          }
        },
        {
          "name": "ƒê·ªçc 1 Sensor C·ª• Th·ªÉ",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/api/firebase/sensors/sensor_001",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "api",
                "firebase",
                "sensors",
                "sensor_001"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "ü§ñ Gemini AI - Direct Call",
      "item": [
        {
          "name": "T·∫°o Alert Tr·ª±c Ti·∫øp (Kh√¥ng qua Firebase)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"current_percent\": 85,\n  \"previous_percent\": 50,\n  \"location\": \"C·ªëng Phan ƒê√¨nh Ph√πng, ƒê√† N·∫µng\",\n  \"timestamp\": \"2025-11-19T14:30:00\",\n  \"to\": \"trantafi2204@gmail.com\"\n}"
            },
            "url": {
              "raw": "http://localhost:3001/api/generate-flood-alert",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "api",
                "generate-flood-alert"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Test Server",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:3001/",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3001",
          "path": [
            ""
          ]
        }
      }
    }
  ]
}

